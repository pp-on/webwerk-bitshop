{"version":3,"sources":["update-cart-items.js"],"names":["jQuery","document","ready","$","type","url","wp_ajax_cart_obj","beforeSend","xhr","setRequestHeader","wp_ajax_update_cart_obj","restNonce","data","action","contentType","dataType","success","text","parseFloat","toFixed","console","errorThrown","log"],"mappings":"AAAAA,OAAOC,UAAUC,OAEfC,SAAOA,GACHC,EAAAA,KAAI,CACJC,KAAKC,MACLC,IAAAA,iBAAsBC,QAAK,2BACzBA,WAAIC,SAAkBD,GAJrBA,EAAAC,iBAAA,aAAAC,wBAAAC,YAOCC,KAAA,CACAC,OAAA,oBACAC,YACA,mBADAC,SAAY,QAGSC,QAAA,SAAAJ,GAErBA,GAEUA,EAAC,iBACPZ,OAAO,gBAAPiB,KAAgCL,EAAC,iBAE/BA,EAAI,kBAAJA,OAAK,gBAATK,KAA8BC,WAAAN,EAAA,kBAAAO,QAAA,GAAA,OALhCnB,OAQO,SAAAiB,KAAA,kBAOPG,MAAO,SAAKC,GACfD,QAAAE,IAAAD","file":"update-cart-items.min.js","sourcesContent":["jQuery(document).ready(\r\nfunction($) {\r\n  $.ajax({\r\n      type: 'GET',\r\n      url: wp_ajax_cart_obj.restURL + 'bit-shop/v1/items/update',\r\n      beforeSend: function (xhr) {\r\n        xhr.setRequestHeader( 'X-WP-Nonce', wp_ajax_update_cart_obj.restNonce);\r\n      },\r\n      data: {\r\n          'action': 'update_cart_items',\r\n          'contentType': 'application/json',\r\n          'dataType': 'json',\r\n          // 'nonce' : wp_ajax_cart_obj.nonce\r\n      },\r\n      success:function(data) { // data ist der Rückgabewert von update_cart_items().\r\n          // Hier wird der Zähler im Warenkorbknopf aktualisiert.\r\n          if (data) {\r\n            // console.log(data);\r\n            if (data['cart_item_count']) {\r\n              jQuery('#items-count').text(data['cart_item_count']);\r\n            }\r\n            if (data['cart_items_price']) {\r\n              jQuery('#total-price').text(parseFloat(data['cart_items_price']).toFixed(2) + ' €');\r\n            }\r\n          } else {\r\n            jQuery('#cart').text('Zum Warenkorb');\r\n\r\n          }\r\n\r\n      },\r\n      error: function(errorThrown){\r\n          console.log(errorThrown);\r\n      }\r\n  });\r\n\r\n\r\n\r\n  // function($) {\r\n  //   'use strict';     //wrapper\r\n  //       var data = {\r\n  //         itemCount : 4,\r\n  //         // jQuery('#items-count'),\r\n  //       }\r\n  //       // console.log('bis da');\r\n  //       $.getJSON(wp_ajax_cart_obj.ajax_url,\r\n  //                 data,\r\n  //                 function(json) {\r\n  //                   if (json.success) {\r\n  //                      alert( 'yes!' );\r\n  //                     console.log('data');\r\n  //                         // itemCount.text(data);\r\n  //                   } else {\r\n  //                     alert(json.data.message);\r\n  //                   }\r\n  //                              //callback\r\n  //              //insert server response\r\n  //       });\r\n});\r\n"]}